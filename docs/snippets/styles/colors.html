<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Color Boiler Plate</title>
    <link rel="stylesheet" href="./index.css" />
    <link rel="stylesheet" href="./components.css" />
    <style>
      body {
        background: var(--neutral-dim);
        transition:
          background 0.2s,
          color 0.2s;
      }

      /* ── Layout ── */

      main {
        padding: 2rem;
      }

      header {
        position: sticky;
        top: 0;
        width: 100%;
        max-height: 30vh;
        overflow-y: auto;
        z-index: 1000;
        padding: 2rem;
        background: var(--neutral-100);
      }

      .header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 2rem;
      }

      h1 {
        font-size: 1.25rem;
        font-weight: 700;
      }

      /* ── Toggle switch ── */

      .toggle-wrap {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 0.75rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.05em;
      }

      .toggle-track {
        position: relative;
        width: 44px;
        height: 24px;
        background: var(--neutral-scrim);
        border-radius: 12px;
        cursor: pointer;
        transition: background 0.2s;
      }

      .toggle-track.active {
        background: var(--accent);
      }

      .toggle-thumb {
        position: absolute;
        top: 2px;
        left: 2px;
        width: 20px;
        height: 20px;
        background: white;
        border-radius: 50%;
        transition: transform 0.2s;
      }

      .toggle-track.active .toggle-thumb {
        transform: translateX(20px);
      }

      .theme-select {
        font-size: 0.75rem;
        font-weight: 600;
        font-family: inherit;
        padding: 0.25rem 0.5rem;
        border: 1px solid var(--neutral-300-scrim);
        border-radius: 0.375rem;
        background: var(--neutral-high);
        color: inherit;
        cursor: pointer;
        text-transform: uppercase;
        letter-spacing: 0.05em;
      }

      /* ── Section headings ── */

      h2 {
        font-size: 1rem;
        font-weight: 700;
        margin: 1.75rem 0 0.5rem;
      }

      h3 {
        font-size: 0.625rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.06em;
        opacity: 0.5;
        min-width: 5.5rem;
        flex-shrink: 0;
      }

      /* ── Family section ── */

      .family-section {
        margin-bottom: 2.5rem;
        padding-bottom: 2rem;
        border-bottom: 1px solid var(--neutral-300-scrim);
      }
      .family-section:last-child {
        border-bottom: none;
      }

      .family-title {
        font-size: 1rem;
        font-weight: 700;
        text-transform: capitalize;
        margin-bottom: 0;
      }

      /* ── Swatch rows ── */

      .swatch-row-wrap {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        margin-bottom: 2px;
      }

      .swatch-grid {
        display: grid;
        grid-template-columns: repeat(11, 1fr);
        gap: 2px;
        flex: 1;
      }

      .swatch-grid-7 {
        grid-template-columns: repeat(7, 1fr);
      }

      .swatch {
        aspect-ratio: 1 / 1;
        border-radius: 0.1875rem;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.5rem;
        font-family: ui-monospace, monospace;
        overflow: hidden;
      }

      .swatch-scrim {
        background-image:
          var(--scrim-color), linear-gradient(45deg, #808080 25%, transparent 25%), linear-gradient(-45deg, #808080 25%, transparent 25%),
          linear-gradient(45deg, transparent 75%, #808080 75%), linear-gradient(-45deg, transparent 75%, #808080 75%);
        background-size:
          100%,
          8px 8px,
          8px 8px,
          8px 8px,
          8px 8px;
        background-position:
          0 0,
          0 0,
          0 4px,
          4px -4px,
          -4px 0;
      }

      /* ── Slider rows ── */

      .slider-row {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        margin-bottom: 0.375rem;
      }

      .slider-row label {
        font-size: 0.625rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.04em;
        width: 4.5rem;
        flex-shrink: 0;
        opacity: 0.6;
      }

      /* Range input: 6px track with progress fill via --track-fill (set by JS).
         Thumb is 6px to match track height; padding expands the drag hit area
         without affecting layout (offset by equal negative margin).
         Progress gradient runs from 3px to width-3px to account for thumb radius. */

      .slider-row input[type="range"] {
        flex: 1;
        accent-color: var(--accent);
        cursor: pointer;
        -webkit-appearance: none;
        appearance: none;
        background: transparent;
        padding: 0.5rem 0; /* expand click/drag area */
        margin: -0.5rem 0; /* offset to preserve layout */
      }

      .slider-row input[type="range"]::-webkit-slider-runnable-track {
        height: 6px;
        border: none;
        outline: none;
        background: var(--track-fill, var(--accent));
        border-radius: 3px;
      }

      .slider-row input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance: none;
        width: 6px;
        height: 6px;
        border: none;
        border-radius: 50%;
        background: var(--neutral-950);
        margin-top: 0;
        cursor: pointer;
      }

      .slider-row input[type="range"]::-moz-range-thumb {
        width: 6px;
        height: 6px;
        border: none;
        border-radius: 50%;
        background: var(--neutral-950);
        cursor: pointer;
      }

      .slider-row input[type="range"]::-moz-range-track {
        height: 6px;
        border: none;
        outline: none;
        background: var(--track-fill, var(--accent));
        border-radius: 3px;
      }

      .slider-row .slider-value {
        font-size: 0.625rem;
        font-family: ui-monospace, monospace;
        width: 2.5rem;
        text-align: right;
        opacity: 0.5;
      }

      .btn-row button svg {
        width: 1em;
        height: 1em;
      }

      .header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 0.75rem;
      }

      .header h1 {
        margin: 0;
      }

      .adjustments {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 0 1.5rem;
      }

      .adjustment-group {
        margin-bottom: 0;
      }

      .adjustment-group h3 {
        margin-bottom: 0.375rem;
        opacity: 0.4;
        min-width: 0;
      }

      header .slider-row label {
        width: 4rem;
      }

      /* ── Code Blocks ── */

      .demo-code {
        display: none;
        position: relative;
        background: var(--neutral-panel);
        border: 1px solid var(--neutral-border-muted);
        border-radius: var(--_radius);
        padding: 0.75rem;
        margin: 0;
        margin-top: 0.75rem;
        font-family: ui-monospace, monospace;
        font-size: 0.8125rem;
        line-height: 1.5;
        overflow-x: auto;
        white-space: pre;
        color: var(--neutral-ink);
      }

      .demo-code[visible] {
        display: block;
      }

      .demo-code > ui-button {
        position: absolute;
        top: 0.375rem;
        right: 0.375rem;
      }
    </style>
  </head>
  <body>
    <ui-layout><main>
    <h1>Color Boiler Plate</h1>
    <header>
      <div class="header">
        <div></div>
        <div class="toggle-wrap">
          <select class="theme-select" id="theme-select">
            <option value="">Default</option>
            <option value="forest">Forest</option>
            <option value="rose">Rose</option>
            <option value="zinc">Zinc</option>
          </select>
          <div class="toggle-track" id="theme-toggle">
            <div class="toggle-thumb"></div>
          </div>
        </div>
      </div>
      <div class="adjustments" id="adjustments"></div>
    </header>

    <div class="demo-section">
    <pre class="demo-code"><code>/* ── Color Environment Parameters ── */
:root {
  --color-env-lightness-min: 0.25;
  --color-env-lightness-max: 0.98;
  --color-env-chroma: 0.15;
  --color-env-alpha: 0.5;
}

/* ── Per-Family Hue Override ── */
:root {
  --color-env-hue-accent: 250;
  --color-env-hue-success: 145;
  --color-env-hue-danger: 25;
}

/* ── Using Semantic Tokens ── */
.card {
  background: var(--accent-panel);
  color: var(--accent-ink);
  border: 1px solid var(--accent-border-muted);
}

.surface-fill {
  background: var(--accent-surface);
  color: var(--accent-surface-ink);
}</code><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <div id="families"></div>

    </main></ui-layout>
    <script type="module">
      import '@nonoun/native-ui/register';
// ── Copy buttons ──

      for (const btn of document.querySelectorAll('.copy-btn')) {
        btn.addEventListener('click', async () => {
          const code = btn.closest('.demo-code')?.querySelector('code');
          if (!code) return;
          await navigator.clipboard.writeText(code.textContent);
          const icon = btn.querySelector('ui-icon');
          if (icon) {
            icon.setAttribute('name', 'check');
            setTimeout(() => { icon.setAttribute('name', 'copy'); }, 1500);
          }
        });
      }
    </script>
    <script>
      /* ── Config ── */

      const families = ["neutral", "accent", "info", "success", "warning", "danger"];

      const envParams = [
        { key: "color-env-lightness-min", label: "L min", min: 0, max: 1, step: 0.01, group: "Lightness" },
        { key: "color-env-lightness-max", label: "L max", min: 0, max: 1, step: 0.01, group: "Lightness" },
        { key: "color-env-lightness-delta", label: "L delta", min: 0, max: 0.15, step: 0.005, group: "Lightness" },
        { key: "color-env-chroma", label: "C", min: 0, max: 0.5, step: 0.005, group: "Chroma" },
        { key: "color-env-chroma-k-muted", label: "C muted", min: 0, max: 1, step: 0.01, group: "Chroma" },
        { key: "color-env-chroma-k-vivid", label: "C vivid", min: 0, max: 1, step: 0.01, group: "Chroma" },
        { key: "color-env-chroma-k-edge", label: "C edge", min: 0, max: 1, step: 0.01, group: "Chroma" },
        { key: "color-env-alpha", label: "A", min: 0, max: 1, step: 0.01, group: "Alpha" },
        { key: "color-env-alpha-delta", label: "A delta", min: 0, max: 0.15, step: 0.005, group: "Alpha" },
      ];

      const familyParams = [
        { suffix: "hue", label: "Hue", min: 0, max: 360, step: 1 },
        { suffix: "chroma", label: "Chroma", min: 0, max: 1, step: 0.01 },
        { suffix: "lightness", label: "Lightness", min: 0, max: 1, step: 0.01 },
      ];

      const elevations = ["lowest", "lower", "low", "base", "high", "higher", "highest"];
      const brightnesses = ["brightest", "brighter", "bright", "base", "dim", "dimmer", "dimmest"];

      const allSteps = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11"];
      const lightSteps = ["1", "2", "3", "4", "5"];

      const root = document.documentElement;

      /* ── Helpers ── */

      function getVar(name) {
        return getComputedStyle(root)
          .getPropertyValue("--" + name)
          .trim();
      }

      function setVar(name, val) {
        root.style.setProperty("--" + name, val);
      }

      function paintTrack(input) {
        const min = parseFloat(input.min);
        const max = parseFloat(input.max);
        const pct = ((input.value - min) / (max - min)) * 100;
        const stop = `calc(3px + ${pct} * (100% - 6px) / 100)`;
        input.style.setProperty("--track-fill", `linear-gradient(to right, var(--neutral-950) ${stop}, rgba(128,128,128,0.25) ${stop})`);
      }

      const allSliders = [];

      function createSlider({ key, label, min, max, step }, container) {
        const row = document.createElement("div");
        row.className = "slider-row";

        const lbl = document.createElement("label");
        lbl.textContent = label;

        const input = document.createElement("input");
        input.type = "range";
        input.min = min;
        input.max = max;
        input.step = step;
        input.value = getVar(key) || 0;

        const valSpan = document.createElement("span");
        valSpan.className = "slider-value";
        valSpan.textContent = parseFloat(input.value).toFixed(step < 0.01 ? 3 : 2);

        input.addEventListener("input", () => {
          setVar(key, input.value);
          valSpan.textContent = parseFloat(input.value).toFixed(step < 0.01 ? 3 : 2);
          paintTrack(input);
        });

        allSliders.push({ key, step, input, valSpan });

        row.append(lbl, input, valSpan);
        container.appendChild(row);
        paintTrack(input);
      }

      function syncSliders() {
        allSliders.forEach(({ key, step, input, valSpan }) => {
          const v = getVar(key);
          if (v) {
            input.value = v;
            valSpan.textContent = parseFloat(v).toFixed(step < 0.01 ? 3 : 2);
            paintTrack(input);
          }
        });
      }

      /* ── Adjustments ── */

      const globalContainer = document.getElementById("adjustments");
      let currentGroup = "";

      envParams.forEach((p) => {
        if (p.group !== currentGroup) {
          currentGroup = p.group;
          const h = document.createElement("div");
          h.className = "adjustment-group";
          const title = document.createElement("h3");
          title.textContent = p.group;
          h.appendChild(title);
          globalContainer.appendChild(h);
        }
        const group = globalContainer.lastElementChild;
        createSlider(p, group);
      });

      /* ── Family sections ── */

      const familiesContainer = document.getElementById("families");

      /* Icon SVG helpers */
      const svg = (d) =>
        `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">${d}</svg>`;
      const iconPlus = svg('<line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/>');
      const iconCheck = svg('<polyline points="20 6 9 17 4 12"/>');
      const iconTrash = svg(
        '<polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/><line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/>',
      );
      const iconEdit = svg('<path d="M17 3a2.83 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"/>');
      const iconSearch = svg('<circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/>');
      const iconChevron = svg('<polyline points="6 9 12 15 18 9"/>');

      families.forEach((fam) => {
        const section = document.createElement("div");
        section.className = "family-section";

        /* Title + per-family sliders */
        const title = document.createElement("div");
        title.className = "family-title";
        title.textContent = fam;
        section.appendChild(title);

        const sliderWrap = document.createElement("div");
        sliderWrap.style.marginTop = "0.375rem";
        sliderWrap.style.marginBottom = "0.25rem";
        familyParams.forEach((p) => {
          createSlider({ key: `color-env-${p.suffix}-${fam}`, label: p.label, min: p.min, max: p.max, step: p.step }, sliderWrap);
        });
        section.appendChild(sliderWrap);

        /* ═══════════════════════════════
           SURFACES
           ═══════════════════════════════ */

        const surfH = document.createElement("h2");
        surfH.textContent = "Surfaces";
        section.appendChild(surfH);

        /* Elevation */
        const elevWrap = document.createElement("div");
        elevWrap.className = "swatch-row-wrap";

        const elevLabel = document.createElement("h3");
        elevLabel.textContent = "Elevation";
        elevWrap.appendChild(elevLabel);

        const elevGrid = document.createElement("div");
        elevGrid.className = "swatch-grid swatch-grid-7";
        elevations.forEach((e) => {
          const s = document.createElement("div");
          s.className = "swatch";
          s.style.background = `var(--${fam}-${e})`;
          s.style.color = `var(--${fam}-950)`;
          s.textContent = e;
          elevGrid.appendChild(s);
        });
        elevWrap.appendChild(elevGrid);
        section.appendChild(elevWrap);

        /* Brightness */
        const brightWrap = document.createElement("div");
        brightWrap.className = "swatch-row-wrap";

        const brightLabel = document.createElement("h3");
        brightLabel.textContent = "Brightness";
        brightWrap.appendChild(brightLabel);

        const brightGrid = document.createElement("div");
        brightGrid.className = "swatch-grid swatch-grid-7";
        brightnesses.forEach((b) => {
          const s = document.createElement("div");
          s.className = "swatch";
          s.style.background = `var(--${fam}-${b})`;
          s.style.color = `var(--${fam}-950)`;
          s.textContent = b;
          brightGrid.appendChild(s);
        });
        brightWrap.appendChild(brightGrid);
        section.appendChild(brightWrap);

        /* ═══════════════════════════════
           SOLIDS (Color Ramp)
           ═══════════════════════════════ */

        const colH = document.createElement("h2");
        colH.textContent = "Solids";
        section.appendChild(colH);

        /* Solid row */
        const solidWrap = document.createElement("div");
        solidWrap.className = "swatch-row-wrap";
        const solidLabel = document.createElement("h3");
        solidLabel.textContent = "Solid";
        solidWrap.appendChild(solidLabel);

        const solidGrid = document.createElement("div");
        solidGrid.className = "swatch-grid";
        allSteps.forEach((n) => {
          const s = document.createElement("div");
          s.className = "swatch";
          s.style.background = `var(--${fam}-${n})`;
          s.style.color = lightSteps.includes(n) ? `var(--${fam}-11)` : `var(--${fam}-1)`;
          s.textContent = n;
          if (n === "6") s.style.fontWeight = "700";
          solidGrid.appendChild(s);
        });
        solidWrap.appendChild(solidGrid);
        section.appendChild(solidWrap);

        /* Scrim row */
        const scrimWrap = document.createElement("div");
        scrimWrap.className = "swatch-row-wrap";
        const scrimLabel = document.createElement("h3");
        scrimLabel.textContent = "Scrim";
        scrimWrap.appendChild(scrimLabel);

        const scrimGrid = document.createElement("div");
        scrimGrid.className = "swatch-grid";
        allSteps.forEach((n) => {
          const s = document.createElement("div");
          s.className = "swatch swatch-scrim";
          s.style.setProperty("--scrim-color", `linear-gradient(var(--${fam}-${n}-scrim), var(--${fam}-${n}-scrim))`);
          s.style.color = lightSteps.includes(n) ? `var(--${fam}-11)` : `var(--${fam}-1)`;
          s.textContent = n;
          scrimGrid.appendChild(s);
        });
        scrimWrap.appendChild(scrimGrid);
        section.appendChild(scrimWrap);

        /* ── Semantic (050–950, light-dark aware) ── */

        const semSteps = ["050", "100", "200", "300", "400", "500", "600", "700", "800", "900", "950"];
        const semLightSteps = ["050", "100", "200", "300", "400"];

        const semH = document.createElement("h2");
        semH.textContent = "Semantic (light-dark)";
        section.appendChild(semH);

        /* Semantic solid row */
        const semSolidWrap = document.createElement("div");
        semSolidWrap.className = "swatch-row-wrap";
        const semSolidLabel = document.createElement("h3");
        semSolidLabel.textContent = "Solid";
        semSolidWrap.appendChild(semSolidLabel);

        const semSolidGrid = document.createElement("div");
        semSolidGrid.className = "swatch-grid";
        semSteps.forEach((n) => {
          const s = document.createElement("div");
          s.className = "swatch";
          s.style.background = `var(--${fam}-${n})`;
          s.style.color = semLightSteps.includes(n) ? `var(--${fam}-950)` : `var(--${fam}-050)`;
          s.textContent = n;
          if (n === "500") s.style.fontWeight = "700";
          semSolidGrid.appendChild(s);
        });
        semSolidWrap.appendChild(semSolidGrid);
        section.appendChild(semSolidWrap);

        /* Semantic scrim row */
        const semScrimWrap = document.createElement("div");
        semScrimWrap.className = "swatch-row-wrap";
        const semScrimLabel = document.createElement("h3");
        semScrimLabel.textContent = "Scrim";
        semScrimWrap.appendChild(semScrimLabel);

        const semScrimGrid = document.createElement("div");
        semScrimGrid.className = "swatch-grid";
        semSteps.forEach((n) => {
          const s = document.createElement("div");
          s.className = "swatch swatch-scrim";
          s.style.setProperty("--scrim-color", `linear-gradient(var(--${fam}-${n}-scrim), var(--${fam}-${n}-scrim))`);
          s.style.color = semLightSteps.includes(n) ? `var(--${fam}-950)` : `var(--${fam}-050)`;
          s.textContent = n;
          semScrimGrid.appendChild(s);
        });
        semScrimWrap.appendChild(semScrimGrid);
        section.appendChild(semScrimWrap);

        /* ── Scrim palette — Tint & Shade ── */

        const scrimPaletteSteps = ["strongest", "stronger", "strong", "base", "weak", "weaker", "weakest"];

        const scrimPalH = document.createElement("h2");
        scrimPalH.textContent = "Scrim Palette";
        section.appendChild(scrimPalH);

        /* Tint row */
        const tintWrap = document.createElement("div");
        tintWrap.className = "swatch-row-wrap";
        const tintLabel = document.createElement("h3");
        tintLabel.textContent = "Tint";
        tintWrap.appendChild(tintLabel);

        const tintGrid = document.createElement("div");
        tintGrid.className = "swatch-grid swatch-grid-7";
        scrimPaletteSteps.forEach((step) => {
          const s = document.createElement("div");
          s.className = "swatch swatch-scrim";
          s.style.setProperty("--scrim-color", `linear-gradient(var(--${fam}-scrim-tint-${step}), var(--${fam}-scrim-tint-${step}))`);
          s.style.color = `var(--${fam}-11)`;
          s.textContent = step;
          tintGrid.appendChild(s);
        });
        tintWrap.appendChild(tintGrid);
        section.appendChild(tintWrap);

        /* Shade row */
        const shadeWrap = document.createElement("div");
        shadeWrap.className = "swatch-row-wrap";
        const shadeLabel = document.createElement("h3");
        shadeLabel.textContent = "Shade";
        shadeWrap.appendChild(shadeLabel);

        const shadeGrid = document.createElement("div");
        shadeGrid.className = "swatch-grid swatch-grid-7";
        scrimPaletteSteps.forEach((step) => {
          const s = document.createElement("div");
          s.className = "swatch swatch-scrim";
          s.style.setProperty("--scrim-color", `linear-gradient(var(--${fam}-scrim-shade-${step}), var(--${fam}-scrim-shade-${step}))`);
          s.style.color = `var(--${fam}-1)`;
          s.textContent = step;
          shadeGrid.appendChild(s);
        });
        shadeWrap.appendChild(shadeGrid);
        section.appendChild(shadeWrap);

        /* ═══════════════════════════════
           UI EXAMPLES
           ═══════════════════════════════ */

        const uiH = document.createElement("h2");
        uiH.textContent = "UI Examples";
        section.appendChild(uiH);

        /* Buttons row — uses ui.button.css via variant/intent attributes */
        const btnRow = document.createElement("div");
        btnRow.className = "btn-row";
        btnRow.style.cssText = "display: flex; gap: 0.5rem; flex-wrap: wrap; margin-bottom: 1rem;";
        btnRow.setAttribute("intent", fam);
        btnRow.setAttribute("size", "md");

        const btnDefs = [
          { label: "Primary", variant: "primary", icon: iconPlus },
          { label: "Secondary", variant: "secondary", icon: iconCheck },
          { label: "Default", variant: "default", icon: iconEdit },
          { label: "Ghost", variant: "ghost", icon: iconSearch },
          { label: "Outline", variant: "outline", icon: iconChevron },
          { label: null, variant: "primary", icon: iconTrash },
        ];

        btnDefs.forEach((d) => {
          const btn = document.createElement("button");
          btn.setAttribute("variant", d.variant);

          const leading = document.createElement("span");
          leading.setAttribute("slot", "leading");
          leading.innerHTML = d.icon;
          btn.appendChild(leading);

          if (d.label) {
            const label = document.createElement("span");
            label.setAttribute("slot", "label");
            label.textContent = d.label;
            btn.appendChild(label);
          }

          btnRow.appendChild(btn);
        });

        section.appendChild(btnRow);

        /* Profile card */
        const card = document.createElement("div");
        card.style.cssText = `background: var(--${fam}-card); border: 1px solid var(--${fam}-border-muted); border-radius: 0.5rem; padding: 1rem; max-width: 280px;`;

        const cardHeader = document.createElement("div");
        cardHeader.style.cssText = "display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.75rem;";

        const avatar = document.createElement("div");
        avatar.style.cssText = `width: 40px; height: 40px; border-radius: 50%; background: var(--${fam}-surface); color: var(--${fam}-surface-ink); display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.875rem; flex-shrink: 0;`;
        avatar.textContent = "JD";

        const nameWrap = document.createElement("div");

        const name = document.createElement("div");
        name.style.cssText = `font-weight: 700; font-size: 0.875rem; color: var(--${fam}-ink-strong);`;
        name.textContent = "Jane Doe";

        const role = document.createElement("div");
        role.style.cssText = `font-size: 0.75rem; color: var(--${fam}-ink-muted);`;
        role.textContent = "Product Designer";

        nameWrap.append(name, role);
        cardHeader.append(avatar, nameWrap);

        const bio = document.createElement("div");
        bio.style.cssText = `font-size: 0.75rem; color: var(--${fam}-ink); margin-bottom: 0.75rem; line-height: 1.4;`;
        bio.textContent = "Crafting interfaces that balance form and function. Passionate about design systems and color theory.";

        const statsRow = document.createElement("div");
        statsRow.style.cssText = "display: flex; gap: 1rem;";

        [
          ["128", "Posts"],
          ["2.4k", "Followers"],
          ["312", "Following"],
        ].forEach(([num, label]) => {
          const stat = document.createElement("div");
          stat.style.cssText = "text-align: center;";

          const n = document.createElement("div");
          n.style.cssText = `font-weight: 700; font-size: 0.875rem; color: var(--${fam}-ink-strong);`;
          n.textContent = num;

          const l = document.createElement("div");
          l.style.cssText = `font-size: 0.625rem; color: var(--${fam}-ink-muted);`;
          l.textContent = label;

          stat.append(n, l);
          statsRow.appendChild(stat);
        });

        card.append(cardHeader, bio, statsRow);
        section.appendChild(card);

        familiesContainer.appendChild(section);
      });

      /* ── Theme select ── */

      const themeSelect = document.getElementById("theme-select");
      themeSelect.addEventListener("change", () => {
        const val = themeSelect.value;
        if (val) {
          root.setAttribute("theme", val);
        } else {
          root.removeAttribute("theme");
        }
        // Clear inline overrides so theme values take effect
        allSliders.forEach(({ key }) => root.style.removeProperty("--" + key));
        // Let computed styles settle, then sync sliders
        requestAnimationFrame(() => syncSliders());
      });

      /* ── Theme toggle ── */

      const toggle = document.getElementById("theme-toggle");
      const systemDark = window.matchMedia("(prefers-color-scheme: dark)");
      const storedScheme = localStorage.getItem("color-scheme");
      let isDark = storedScheme !== null ? storedScheme === "dark" : systemDark.matches;

      function applyTheme() {
        root.style.colorScheme = isDark ? "dark" : "light";
        toggle.classList.toggle("active", isDark);
        localStorage.setItem("color-scheme", isDark ? "dark" : "light");
      }

      applyTheme();

      toggle.addEventListener("click", () => {
        isDark = !isDark;
        applyTheme();
      });

      systemDark.addEventListener("change", (e) => {
        if (localStorage.getItem("color-scheme") === null) {
          isDark = e.matches;
          applyTheme();
        }
      });
    </script>
  </body>
</html>

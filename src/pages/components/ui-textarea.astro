---
import SidebarLayout from '../../layouts/SidebarLayout.astro';

const codeExamples = {
  events: `&lt;ui-textarea id="my-textarea" placeholder="Type..."&gt;&lt;/ui-textarea&gt;

&lt;script&gt;
  const ta = document.getElementById('my-textarea');
  ta.addEventListener('ui-input', (e) =&gt; {
    console.log('input:', e.detail.value);
  });
  ta.addEventListener('ui-change', (e) =&gt; {
    console.log('change:', e.detail.value);
  });
&lt;/script&gt;`,
};
---
<SidebarLayout title="ui-textarea">
  <main>
<h1>&lt;ui-textarea&gt;</h1>
    <p style="color: var(--neutral-ink-muted); font-size: 0.875rem; margin-bottom: 1.5rem;">
      Multi-line text input with contenteditable, autogrow, rows presets, and maxlength.
    </p>

    <!-- ── Basic ── -->

    <h2>Basic</h2>
    <div class="layout-section">
      <ui-textarea placeholder="Tell us about yourself..."></ui-textarea>
        <pre class="layout-code"><code>&lt;ui-textarea placeholder="Tell us about yourself..."&gt;&lt;/ui-textarea&gt;</code><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── With Value ── -->

    <h2>With Value</h2>
    <div class="layout-section">
      <ui-textarea rows="4">This is a textarea with some initial content. It supports multi-line text editing with all the same styling as ui-input.</ui-textarea>
        <pre class="layout-code"><code>&lt;ui-textarea rows="4"&gt;Initial content here.&lt;/ui-textarea&gt;</code><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── Variants ── -->

    <h2>Variants</h2>
    <div class="layout-section">
      <div class="layout-row">
        <div>
          <div class="layout-label">secondary (default)</div>
          <ui-textarea placeholder="Secondary textarea"></ui-textarea>
        </div>
        <div>
          <div class="layout-label">outline</div>
          <ui-textarea variant="outline" placeholder="Outline textarea"></ui-textarea>
        </div>
        <div>
          <div class="layout-label">ghost</div>
          <ui-textarea variant="ghost" placeholder="Ghost textarea"></ui-textarea>
        </div>
      </div>
      <pre class="layout-code"><code>&lt;ui-textarea placeholder="Secondary (default)"&gt;&lt;/ui-textarea&gt;
&lt;ui-textarea variant="outline" placeholder="Outline"&gt;&lt;/ui-textarea&gt;
&lt;ui-textarea variant="ghost" placeholder="Ghost"&gt;&lt;/ui-textarea&gt;</code><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── Sizes ── -->

    <h2>Sizes</h2>
    <div class="layout-section">
      <div class="layout-row">
        <div size="sm">
          <div class="layout-label">sm</div>
          <ui-textarea placeholder="Small textarea"></ui-textarea>
        </div>
        <div>
          <div class="layout-label">md (default)</div>
          <ui-textarea placeholder="Medium textarea"></ui-textarea>
        </div>
        <div size="lg">
          <div class="layout-label">lg</div>
          <ui-textarea placeholder="Large textarea"></ui-textarea>
        </div>
      </div>
      <pre class="layout-code"><code>&lt;div size="sm"&gt;
  &lt;ui-textarea placeholder="Small"&gt;&lt;/ui-textarea&gt;
&lt;/div&gt;
&lt;ui-textarea placeholder="Medium (default)"&gt;&lt;/ui-textarea&gt;
&lt;div size="lg"&gt;
  &lt;ui-textarea placeholder="Large"&gt;&lt;/ui-textarea&gt;
&lt;/div&gt;</code><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── Density ── -->

    <h2>Density</h2>
    <div class="layout-section">
      <div class="layout-row">
        <div density="compact">
          <div class="layout-label">compact</div>
          <ui-textarea placeholder="Compact textarea"></ui-textarea>
        </div>
        <div>
          <div class="layout-label">default</div>
          <ui-textarea placeholder="Default textarea"></ui-textarea>
        </div>
        <div density="loose">
          <div class="layout-label">loose</div>
          <ui-textarea placeholder="Loose textarea"></ui-textarea>
        </div>
      </div>
      <pre class="layout-code"><code>&lt;div density="compact"&gt;
  &lt;ui-textarea placeholder="Compact"&gt;&lt;/ui-textarea&gt;
&lt;/div&gt;
&lt;ui-textarea placeholder="Default"&gt;&lt;/ui-textarea&gt;
&lt;div density="loose"&gt;
  &lt;ui-textarea placeholder="Loose"&gt;&lt;/ui-textarea&gt;
&lt;/div&gt;</code><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── Rows ── -->

    <h2>Rows</h2>
    <div class="layout-section" size="sm">
      <div class="layout-row">
        <div>
          <div class="layout-label">rows="1"</div>
          <ui-textarea rows="1" placeholder="Single line height"></ui-textarea>
        </div>
        <div>
          <div class="layout-label">rows="2"</div>
          <ui-textarea rows="2" placeholder="Two rows"></ui-textarea>
        </div>
        <div>
          <div class="layout-label">rows="3" (default)</div>
          <ui-textarea placeholder="Three rows (default)"></ui-textarea>
        </div>
        <div>
          <div class="layout-label">rows="5"</div>
          <ui-textarea rows="5" placeholder="Five rows"></ui-textarea>
        </div>
        <div>
          <div class="layout-label">rows="8"</div>
          <ui-textarea rows="8" placeholder="Eight rows"></ui-textarea>
        </div>
      </div>
      <pre class="layout-code"><code>&lt;ui-textarea rows="1" placeholder="Single line"&gt;&lt;/ui-textarea&gt;
&lt;ui-textarea rows="3" placeholder="Three rows (default)"&gt;&lt;/ui-textarea&gt;
&lt;ui-textarea rows="5" placeholder="Five rows"&gt;&lt;/ui-textarea&gt;
&lt;ui-textarea rows="8" placeholder="Eight rows"&gt;&lt;/ui-textarea&gt;</code><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── Autogrow ── -->

    <h2>Autogrow</h2>
    <div class="layout-section">
      <ui-textarea placeholder="Type here — grows as you type..." autogrow></ui-textarea>
        <pre class="layout-code"><code>&lt;ui-textarea placeholder="Type here..." autogrow&gt;&lt;/ui-textarea&gt;</code><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── Maxlength ── -->

    <h2>Maxlength</h2>
    <div class="layout-section">
      <ui-textarea placeholder="Max 100 characters..." maxlength="100"></ui-textarea>
      <p style="font-size: 0.75rem; color: var(--neutral-ink-muted); margin-top: 0.5rem;">Limited to 100 characters. Excess input is truncated.</p>
        <pre class="layout-code"><code>&lt;ui-textarea placeholder="Max 100 characters..." maxlength="100"&gt;&lt;/ui-textarea&gt;</code><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── Intents ── -->

    <h2>Intents</h2>
    <div class="layout-section" size="sm">
      <div class="layout-row">
        <div intent="neutral">
          <div class="layout-label">neutral</div>
          <ui-textarea placeholder="Neutral"></ui-textarea>
        </div>
        <div intent="accent">
          <div class="layout-label">accent</div>
          <ui-textarea placeholder="Accent"></ui-textarea>
        </div>
        <div intent="info">
          <div class="layout-label">info</div>
          <ui-textarea placeholder="Info"></ui-textarea>
        </div>
        <div intent="success">
          <div class="layout-label">success</div>
          <ui-textarea placeholder="Success"></ui-textarea>
        </div>
        <div intent="warning">
          <div class="layout-label">warning</div>
          <ui-textarea placeholder="Warning"></ui-textarea>
        </div>
        <div intent="danger">
          <div class="layout-label">danger</div>
          <ui-textarea placeholder="Danger"></ui-textarea>
        </div>
      </div>
      <pre class="layout-code"><code>&lt;div intent="accent"&gt;
  &lt;ui-textarea placeholder="Accent"&gt;&lt;/ui-textarea&gt;
&lt;/div&gt;
&lt;div intent="success"&gt;
  &lt;ui-textarea placeholder="Success"&gt;&lt;/ui-textarea&gt;
&lt;/div&gt;
&lt;div intent="danger"&gt;
  &lt;ui-textarea placeholder="Danger"&gt;&lt;/ui-textarea&gt;
&lt;/div&gt;</code><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── Disabled & Readonly ── -->

    <h2>Disabled &amp; Readonly</h2>
    <div class="layout-section">
      <div class="layout-row">
        <div>
          <div class="layout-label">disabled</div>
          <ui-textarea disabled>This content cannot be edited.</ui-textarea>
        </div>
        <div>
          <div class="layout-label">readonly</div>
          <ui-textarea readonly>This content is read-only but selectable.</ui-textarea>
        </div>
      </div>
      <pre class="layout-code"><code>&lt;ui-textarea disabled&gt;Cannot be edited.&lt;/ui-textarea&gt;
&lt;ui-textarea readonly&gt;Read-only but selectable.&lt;/ui-textarea&gt;</code><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── Radius ── -->

    <h2>Radius</h2>
    <div class="layout-section">
      <div class="layout-row">
        <div radius="sharp">
          <div class="layout-label">sharp</div>
          <ui-textarea placeholder="Sharp radius"></ui-textarea>
        </div>
        <div>
          <div class="layout-label">default</div>
          <ui-textarea placeholder="Default radius"></ui-textarea>
        </div>
        <div radius="round">
          <div class="layout-label">round</div>
          <ui-textarea placeholder="Round radius"></ui-textarea>
        </div>
      </div>
      <pre class="layout-code"><code>&lt;div radius="sharp"&gt;
  &lt;ui-textarea placeholder="Sharp"&gt;&lt;/ui-textarea&gt;
&lt;/div&gt;
&lt;ui-textarea placeholder="Default"&gt;&lt;/ui-textarea&gt;
&lt;div radius="round"&gt;
  &lt;ui-textarea placeholder="Round"&gt;&lt;/ui-textarea&gt;
&lt;/div&gt;</code><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── Events ── -->

    <h2>Events</h2>
    <div class="layout-section">
      <ui-textarea id="event-textarea" placeholder="Type to see events..."></ui-textarea>
      <div class="log" id="event-log"></div>
    <pre class="layout-code"><code set:html={codeExamples.events} /><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── Form Association ── -->

    <h2>Form Association</h2>
    <div class="layout-section">
      <form id="demo-form">
        <div style="display: flex; flex-direction: column; gap: 0.75rem; margin-bottom: 0.75rem;">
          <ui-textarea name="bio" placeholder="Write your bio..."></ui-textarea>
          <ui-textarea name="notes" placeholder="Additional notes..." rows="2"></ui-textarea>
        </div>
        <div style="display: flex; gap: 0.5rem;">
          <ui-button variant="primary" type="submit"><span slot="label">Submit</span></ui-button>
          <ui-button variant="secondary" type="reset"><span slot="label">Reset</span></ui-button>
        </div>
      </form>
      <div class="log" id="form-log"></div>
    <pre class="layout-code"><code>&lt;form&gt;
  &lt;ui-textarea name="bio" placeholder="Write your bio..."&gt;&lt;/ui-textarea&gt;
  &lt;ui-button variant="primary" type="submit"&gt;
    &lt;span slot="label"&gt;Submit&lt;/span&gt;
  &lt;/ui-button&gt;
&lt;/form&gt;</code><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── With ui-field ── -->

    <h2>With ui-field</h2>
    <div class="layout-section">
      <ui-stack gap="4">
        <ui-field>
          <label slot="label">Bio</label>
          <ui-textarea placeholder="Tell us about yourself..."></ui-textarea>
        </ui-field>
        <ui-field required>
          <label slot="label">Feedback</label>
          <ui-textarea placeholder="Required field..." rows="4"></ui-textarea>
          <span slot="description">We appreciate your feedback.</span>
        </ui-field>
        <ui-field disabled>
          <label slot="label">Locked</label>
          <ui-textarea>This field is disabled via ui-field.</ui-textarea>
        </ui-field>
      </ui-stack>
    <pre class="layout-code"><code>&lt;ui-field&gt;
  &lt;label slot="label"&gt;Bio&lt;/label&gt;
  &lt;ui-textarea placeholder="Tell us about yourself..."&gt;&lt;/ui-textarea&gt;
&lt;/ui-field&gt;
&lt;ui-field required&gt;
  &lt;label slot="label"&gt;Feedback&lt;/label&gt;
  &lt;ui-textarea placeholder="Required..." rows="4"&gt;&lt;/ui-textarea&gt;
  &lt;span slot="description"&gt;We appreciate your feedback.&lt;/span&gt;
&lt;/ui-field&gt;</code><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── Debug States (force-*) ── -->

    <h2>Debug States (<code>force-*</code>)</h2>
    <div class="layout-section">
      <p style="font-size: 0.75rem; color: var(--neutral-ink-muted); margin: 0 0 1rem;">
        Attribute-driven pseudo-state overrides for DevTools debugging and visual testing.
      </p>
      <div class="layout-row">
        <div>
          <div class="layout-label">force-hover</div>
          <ui-textarea force-hover placeholder="Force hover"></ui-textarea>
        </div>
        <div>
          <div class="layout-label">force-focus</div>
          <ui-textarea force-focus placeholder="Force focus"></ui-textarea>
        </div>
      </div>
    </div>
  </main>

  <script>
import '../../scripts/copy-buttons';
// Event logging
      const eventTextarea = document.getElementById('event-textarea');
      const eventLog = document.getElementById('event-log');
      let count = 0;

      eventTextarea.addEventListener('ui-input', (e) => {
        count++;
        const entry = document.createElement('div');
        entry.className = 'log-entry';
        entry.textContent = `#${count} ui-input — value: "${e.detail.value}"`;
        eventLog.prepend(entry);
      });

      eventTextarea.addEventListener('ui-change', (e) => {
        count++;
        const entry = document.createElement('div');
        entry.className = 'log-entry';
        entry.textContent = `#${count} ui-change — value: "${e.detail.value}"`;
        eventLog.prepend(entry);
      });

      // Form logging
      const form = document.getElementById('demo-form');
      const formLog = document.getElementById('form-log');

      form.addEventListener('submit', (e) => {
        e.preventDefault();
        const data = new FormData(form);
        const entry = document.createElement('div');
        entry.className = 'log-entry';
        entry.textContent = `submit — ${[...data.entries()].map(([k, v]) => `${k}: "${v}"`).join(', ')}`;
        formLog.prepend(entry);
      });

      form.addEventListener('reset', () => {
        const entry = document.createElement('div');
        entry.className = 'log-entry';
        entry.textContent = 'reset';
        formLog.prepend(entry);
      });
  </script>
</SidebarLayout>

---
import SidebarLayout from '../../layouts/SidebarLayout.astro';

const codeExamples = {
  eventLog: `&lt;ui-slideshow controls indicators id="my-slideshow"&gt;
  &lt;ui-slide&gt;&lt;div&gt;A&lt;/div&gt;&lt;/ui-slide&gt;
  &lt;ui-slide&gt;&lt;div&gt;B&lt;/div&gt;&lt;/ui-slide&gt;
&lt;/ui-slideshow&gt;

&lt;script&gt;
  document.getElementById('my-slideshow')
    .addEventListener('ui-slide-change', (e) =&gt; {
      console.log('index:', e.detail.index);
    });
&lt;/script&gt;`,
};
---
<SidebarLayout title="ui-slideshow">
  <main>
<h1>&lt;ui-slideshow&gt;</h1>
    <p style="color: var(--neutral-ink-muted); font-size: 0.875rem; margin-bottom: 1.5rem;">
      CSS-first carousel using scroll-snap, IntersectionObserver, and zero JS for touch/swipe.
    </p>

    <!-- ── Basic ── -->

    <h2>Basic (swipe to navigate)</h2>
    <div class="layout-section">
      <ui-slideshow>
        <ui-slide><div class="slide-content slide-1">1</div></ui-slide>
        <ui-slide><div class="slide-content slide-2">2</div></ui-slide>
        <ui-slide><div class="slide-content slide-3">3</div></ui-slide>
      </ui-slideshow>
    <pre class="layout-code"><code>&lt;ui-slideshow&gt;
  &lt;ui-slide&gt;&lt;div&gt;Slide 1&lt;/div&gt;&lt;/ui-slide&gt;
  &lt;ui-slide&gt;&lt;div&gt;Slide 2&lt;/div&gt;&lt;/ui-slide&gt;
  &lt;ui-slide&gt;&lt;div&gt;Slide 3&lt;/div&gt;&lt;/ui-slide&gt;
&lt;/ui-slideshow&gt;</code><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── Controls + Indicators ── -->

    <h2>Controls + Indicators</h2>
    <div class="layout-section">
      <ui-slideshow controls indicators>
        <ui-slide><div class="slide-content slide-1">Slide 1</div></ui-slide>
        <ui-slide><div class="slide-content slide-2">Slide 2</div></ui-slide>
        <ui-slide><div class="slide-content slide-3">Slide 3</div></ui-slide>
        <ui-slide><div class="slide-content slide-4">Slide 4</div></ui-slide>
      </ui-slideshow>
    <pre class="layout-code"><code>&lt;ui-slideshow controls indicators&gt;
  &lt;ui-slide&gt;&lt;div&gt;Slide 1&lt;/div&gt;&lt;/ui-slide&gt;
  &lt;ui-slide&gt;&lt;div&gt;Slide 2&lt;/div&gt;&lt;/ui-slide&gt;
  &lt;ui-slide&gt;&lt;div&gt;Slide 3&lt;/div&gt;&lt;/ui-slide&gt;
&lt;/ui-slideshow&gt;</code><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── Autoplay + Loop ── -->

    <h2>Autoplay + Loop</h2>
    <div class="layout-section">
      <ui-slideshow controls indicators autoplay interval="3000" loop>
        <ui-slide><div class="slide-content slide-1">A</div></ui-slide>
        <ui-slide><div class="slide-content slide-2">B</div></ui-slide>
        <ui-slide><div class="slide-content slide-3">C</div></ui-slide>
      </ui-slideshow>
    <pre class="layout-code"><code>&lt;ui-slideshow controls indicators autoplay interval="3000" loop&gt;
  &lt;ui-slide&gt;&lt;div&gt;A&lt;/div&gt;&lt;/ui-slide&gt;
  &lt;ui-slide&gt;&lt;div&gt;B&lt;/div&gt;&lt;/ui-slide&gt;
  &lt;ui-slide&gt;&lt;div&gt;C&lt;/div&gt;&lt;/ui-slide&gt;
&lt;/ui-slideshow&gt;</code><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── Vertical ── -->

    <h2>Vertical</h2>
    <div class="layout-section">
      <ui-slideshow direction="vertical" controls indicators class="vertical-demo">
        <ui-slide><div class="slide-content slide-1">Top</div></ui-slide>
        <ui-slide><div class="slide-content slide-2">Middle</div></ui-slide>
        <ui-slide><div class="slide-content slide-3">Bottom</div></ui-slide>
      </ui-slideshow>
    <pre class="layout-code"><code>&lt;ui-slideshow direction="vertical" controls indicators&gt;
  &lt;ui-slide&gt;&lt;div&gt;Top&lt;/div&gt;&lt;/ui-slide&gt;
  &lt;ui-slide&gt;&lt;div&gt;Middle&lt;/div&gt;&lt;/ui-slide&gt;
  &lt;ui-slide&gt;&lt;div&gt;Bottom&lt;/div&gt;&lt;/ui-slide&gt;
&lt;/ui-slideshow&gt;</code><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── Peek ── -->

    <h2>Peek (adjacent slides visible)</h2>
    <div class="layout-section">
      <ui-slideshow controls indicators peek>
        <ui-slide><div class="slide-content slide-1">1</div></ui-slide>
        <ui-slide><div class="slide-content slide-2">2</div></ui-slide>
        <ui-slide><div class="slide-content slide-3">3</div></ui-slide>
        <ui-slide><div class="slide-content slide-4">4</div></ui-slide>
        <ui-slide><div class="slide-content slide-5">5</div></ui-slide>
      </ui-slideshow>
    <pre class="layout-code"><code>&lt;ui-slideshow controls indicators peek&gt;
  &lt;ui-slide&gt;&lt;div&gt;1&lt;/div&gt;&lt;/ui-slide&gt;
  &lt;ui-slide&gt;&lt;div&gt;2&lt;/div&gt;&lt;/ui-slide&gt;
  &lt;ui-slide&gt;&lt;div&gt;3&lt;/div&gt;&lt;/ui-slide&gt;
&lt;/ui-slideshow&gt;</code><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── Per-view 3 with gap ── -->

    <h2>Per-view 3 + Gap</h2>
    <div class="layout-section">
      <ui-slideshow controls indicators per-view="3" gap>
        <ui-slide><div class="slide-content slide-short slide-1">1</div></ui-slide>
        <ui-slide><div class="slide-content slide-short slide-2">2</div></ui-slide>
        <ui-slide><div class="slide-content slide-short slide-3">3</div></ui-slide>
        <ui-slide><div class="slide-content slide-short slide-4">4</div></ui-slide>
        <ui-slide><div class="slide-content slide-short slide-5">5</div></ui-slide>
        <ui-slide><div class="slide-content slide-short slide-1">6</div></ui-slide>
      </ui-slideshow>
    <pre class="layout-code"><code>&lt;ui-slideshow controls indicators per-view="3" gap&gt;
  &lt;ui-slide&gt;&lt;div&gt;1&lt;/div&gt;&lt;/ui-slide&gt;
  &lt;ui-slide&gt;&lt;div&gt;2&lt;/div&gt;&lt;/ui-slide&gt;
  &lt;ui-slide&gt;&lt;div&gt;3&lt;/div&gt;&lt;/ui-slide&gt;
  &lt;ui-slide&gt;&lt;div&gt;4&lt;/div&gt;&lt;/ui-slide&gt;
&lt;/ui-slideshow&gt;</code><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── Per-view 2 + Peek + Gap ── -->

    <h2>Per-view 2 + Peek + Gap</h2>
    <div class="layout-section">
      <ui-slideshow controls indicators per-view="2" peek gap>
        <ui-slide><div class="slide-content slide-short slide-1">1</div></ui-slide>
        <ui-slide><div class="slide-content slide-short slide-2">2</div></ui-slide>
        <ui-slide><div class="slide-content slide-short slide-3">3</div></ui-slide>
        <ui-slide><div class="slide-content slide-short slide-4">4</div></ui-slide>
      </ui-slideshow>
    <pre class="layout-code"><code>&lt;ui-slideshow controls indicators per-view="2" peek gap&gt;
  &lt;ui-slide&gt;&lt;div&gt;1&lt;/div&gt;&lt;/ui-slide&gt;
  &lt;ui-slide&gt;&lt;div&gt;2&lt;/div&gt;&lt;/ui-slide&gt;
  &lt;ui-slide&gt;&lt;div&gt;3&lt;/div&gt;&lt;/ui-slide&gt;
&lt;/ui-slideshow&gt;</code><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── Intent colors ── -->

    <h2>Intent (accent)</h2>
    <div class="layout-section">
      <ui-slideshow controls indicators intent="accent">
        <ui-slide><div class="slide-content slide-1">Accent 1</div></ui-slide>
        <ui-slide><div class="slide-content slide-2">Accent 2</div></ui-slide>
        <ui-slide><div class="slide-content slide-3">Accent 3</div></ui-slide>
      </ui-slideshow>
    <pre class="layout-code"><code>&lt;ui-slideshow controls indicators intent="accent"&gt;
  &lt;ui-slide&gt;&lt;div&gt;Slide 1&lt;/div&gt;&lt;/ui-slide&gt;
  &lt;ui-slide&gt;&lt;div&gt;Slide 2&lt;/div&gt;&lt;/ui-slide&gt;
&lt;/ui-slideshow&gt;</code><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── Event log ── -->

    <h2>Event log</h2>
    <div class="layout-section">
      <ui-slideshow controls indicators id="event-demo">
        <ui-slide><div class="slide-content slide-1">A</div></ui-slide>
        <ui-slide><div class="slide-content slide-2">B</div></ui-slide>
        <ui-slide><div class="slide-content slide-3">C</div></ui-slide>
      </ui-slideshow>
      <pre id="event-log" style="margin-top: 0.75rem; font-size: 0.75rem; font-family: ui-monospace, monospace; color: var(--neutral-ink-muted); min-height: 2rem;"></pre>
    <pre class="layout-code"><code set:html={codeExamples.eventLog} /><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── Debug States (force-*) ── -->

    <h2>Debug States (<code>force-*</code>)</h2>
    <div class="layout-section">
      <p style="font-size: 0.75rem; color: var(--neutral-ink-muted); margin: 0 0 1rem;">
        Attribute-driven pseudo-state overrides for DevTools debugging and visual testing. Applied to the host element, targets internal controls and indicators.
      </p>
      <div style="display: flex; gap: 1.5rem; flex-wrap: wrap;">
        <div>
          <div style="font-size: 0.625rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.04em; color: var(--neutral-ink-muted); margin-bottom: 0.5rem;">force-hover</div>
          <ui-slideshow controls indicators force-hover style="max-width: 280px;">
            <ui-slide><div class="slide-content slide-1">A</div></ui-slide>
            <ui-slide><div class="slide-content slide-2">B</div></ui-slide>
          </ui-slideshow>
        </div>
        <div>
          <div style="font-size: 0.625rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.04em; color: var(--neutral-ink-muted); margin-bottom: 0.5rem;">force-focus-visible</div>
          <ui-slideshow controls indicators force-focus-visible style="max-width: 280px;">
            <ui-slide><div class="slide-content slide-1">A</div></ui-slide>
            <ui-slide><div class="slide-content slide-2">B</div></ui-slide>
          </ui-slideshow>
        </div>
      </div>
    </div>
  </main>

  <script>
const demo = document.getElementById('event-demo');
      const log = document.getElementById('event-log');
      demo.addEventListener('ui-slide-change', (e) => {
        const { index } = e.detail;
        log.textContent = `ui-slide-change → index: ${index}\n` + log.textContent;
        if (log.textContent.length > 500) log.textContent = log.textContent.slice(0, 500);
      });
// ── Copy buttons ──

      for (const btn of document.querySelectorAll('.copy-btn')) {
        btn.addEventListener('click', async () => {
          const code = btn.closest('.layout-code')?.querySelector('code');
          if (!code) return;
          await navigator.clipboard.writeText(code.textContent);
          const icon = btn.querySelector('ui-icon');
          if (icon) {
            icon.setAttribute('name', 'check');
            setTimeout(() => { icon.setAttribute('name', 'copy'); }, 1500);
          }
        });
      }
  </script>
  <style is:global>
    .nav-main {
      padding: 2rem;
      max-width: 52rem;
    }




    /* Slide content for demos */
    .slide-content {
      min-height: 12rem;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      font-weight: 700;
      border-radius: 0.5rem;
    }

    .slide-1 { background: var(--accent-surface); color: var(--accent-surface-ink); }
    .slide-2 { background: var(--info-surface); color: var(--info-surface-ink); }
    .slide-3 { background: var(--success-surface); color: var(--success-surface-ink); }
    .slide-4 { background: var(--warning-surface); color: var(--warning-surface-ink); }
    .slide-5 { background: var(--danger-surface); color: var(--danger-surface-ink); }

    .slide-short {
      min-height: 8rem;
      font-size: 1.25rem;
    }

    /* Vertical demo needs explicit height */
    .vertical-demo {
      height: 16rem;
    }

    /* Image slides */
    .slide-img {
      min-height: 14rem;
      background-size: cover;
      background-position: center;
    }

    /* ── Code Blocks ── */
</style>

</SidebarLayout>

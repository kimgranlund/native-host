---
import SidebarLayout from '../../layouts/SidebarLayout.astro';

const codeExamples = {
  liveClickToNavigate: `&lt;ui-pagination total="15" value="5"&gt;&lt;/ui-pagination&gt;

&lt;script&gt;
  const pag = document.querySelector('ui-pagination');
  pag.addEventListener('ui-change', (e) =&gt; {
    console.log('Page:', e.detail.value);
  });
&lt;/script&gt;`,
};
---
<SidebarLayout title="ui-pagination">
  <main>
<h1>&lt;ui-pagination&gt;</h1>
    <p style="color: var(--neutral-ink-muted); font-size: 0.875rem; margin-bottom: 1.5rem;">
      Page navigation. Stamps prev/next + page numbers with ellipsis truncation.
    </p>

    <!-- ── Basic ── -->

    <h2>Basic</h2>
    <div class="layout-section">
      <ui-pagination total="10" value="1"></ui-pagination>
        <pre class="layout-code"><code>&lt;ui-pagination total="10" value="1"&gt;&lt;/ui-pagination&gt;</code><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── Middle page ── -->

    <h2>Middle Page</h2>
    <div class="layout-section">
      <ui-pagination total="20" value="10"></ui-pagination>
        <pre class="layout-code"><code>&lt;ui-pagination total="20" value="10"&gt;&lt;/ui-pagination&gt;</code><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── Few pages ── -->

    <h2>Few Pages</h2>
    <div class="layout-section">
      <ui-pagination total="3" value="2"></ui-pagination>
        <pre class="layout-code"><code>&lt;ui-pagination total="3" value="2"&gt;&lt;/ui-pagination&gt;</code><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── Many pages ── -->

    <h2>Many Pages</h2>
    <div class="layout-section">
      <ui-pagination total="100" value="50" siblings="2"></ui-pagination>
        <pre class="layout-code"><code>&lt;ui-pagination total="100" value="50" siblings="2"&gt;&lt;/ui-pagination&gt;</code><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── Boundaries ── -->

    <h2>Boundaries</h2>
    <div class="layout-section">
      <ui-stack gap="4">
        <div>
          <p style="font-size: 0.75rem; color: var(--neutral-ink-muted); margin: 0 0 0.5rem;">boundaries="2" (show 2 pages at each edge)</p>
          <ui-pagination total="50" value="25" boundaries="2"></ui-pagination>
        </div>
        <div>
          <p style="font-size: 0.75rem; color: var(--neutral-ink-muted); margin: 0 0 0.5rem;">boundaries="0" (no boundary pages)</p>
          <ui-pagination total="50" value="25" boundaries="0"></ui-pagination>
        </div>
      </ui-stack>
    <pre class="layout-code"><code>&lt;ui-pagination total="50" value="25" boundaries="2"&gt;&lt;/ui-pagination&gt;
&lt;ui-pagination total="50" value="25" boundaries="0"&gt;&lt;/ui-pagination&gt;</code><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── Sizes ── -->

    <h2>Sizes</h2>
    <div class="layout-section">
      <ui-stack gap="4">
        <ui-pagination total="10" value="3" size="sm"></ui-pagination>
        <ui-pagination total="10" value="3"></ui-pagination>
        <ui-pagination total="10" value="3" size="lg"></ui-pagination>
      </ui-stack>
    <pre class="layout-code"><code>&lt;ui-pagination total="10" value="3" size="sm"&gt;&lt;/ui-pagination&gt;
&lt;ui-pagination total="10" value="3"&gt;&lt;/ui-pagination&gt;
&lt;ui-pagination total="10" value="3" size="lg"&gt;&lt;/ui-pagination&gt;</code><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── Live ── -->

    <h2>Live (click to navigate)</h2>
    <div class="layout-section">
      <p style="font-size: 0.8125rem; color: var(--neutral-ink-muted); margin-bottom: 0.75rem;">
        Current page: <strong id="page-display">5</strong>
      </p>
      <ui-pagination id="live-pagination" total="15" value="5"></ui-pagination>
    <pre class="layout-code"><code set:html={codeExamples.liveClickToNavigate} /><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── Disabled ── -->

    <h2>Disabled</h2>
    <div class="layout-section">
      <ui-pagination total="10" value="5" disabled></ui-pagination>
        <pre class="layout-code"><code>&lt;ui-pagination total="10" value="5" disabled&gt;&lt;/ui-pagination&gt;</code><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>
  </main>

  <script>
const pag = document.getElementById('live-pagination');
      const display = document.getElementById('page-display');
      pag?.addEventListener('ui-change', (e) => {
        display.textContent = String(e.detail.value);
      });
// ── Copy buttons ──

      for (const btn of document.querySelectorAll('.copy-btn')) {
        btn.addEventListener('click', async () => {
          const code = btn.closest('.layout-code')?.querySelector('code');
          if (!code) return;
          await navigator.clipboard.writeText(code.textContent);
          const icon = btn.querySelector('ui-icon');
          if (icon) {
            icon.setAttribute('name', 'check');
            setTimeout(() => { icon.setAttribute('name', 'copy'); }, 1500);
          }
        });
      }
  </script>
</SidebarLayout>

---
import SidebarLayout from '../../layouts/SidebarLayout.astro';

const codeExamples = {
  events: `&lt;ui-nav id="my-nav"&gt;
  &lt;ui-nav-item value="home"&gt;Home&lt;/ui-nav-item&gt;
  &lt;ui-nav-item value="docs"&gt;Documentation&lt;/ui-nav-item&gt;
  &lt;ui-nav-item value="api"&gt;API Reference&lt;/ui-nav-item&gt;
&lt;/ui-nav&gt;

&lt;script&gt;
  myNav.addEventListener('ui-change', (e) =&gt; {
    console.log(e.detail.value);
  });
&lt;/script&gt;`,
};
---
<SidebarLayout title="ui-nav">
  <main>
<h1>&lt;ui-nav&gt;</h1>
    <p style="color: var(--neutral-ink-muted); font-size: 0.875rem; margin-bottom: 1.5rem;">
      Navigation list with keyboard nav and selection. Transparent wrapper — items sit flush with no inline padding.
    </p>

    <!-- ── Basic ── -->

    <h2>Basic Nav</h2>
    <div class="layout-section">
      <div class="layout-grid">
        <div class="layout-col">
          <span class="layout-col-label">Flat items</span>
          <ui-nav id="basic-nav" size="sm">
            <ui-nav-item value="home">Home</ui-nav-item>
            <ui-nav-item value="about">About</ui-nav-item>
            <ui-nav-item value="blog">Blog</ui-nav-item>
            <ui-nav-item value="contact">Contact</ui-nav-item>
          </ui-nav>
          <div>Selected: <span class="value-display" id="basic-value">none</span></div>
        </div>

        <div class="layout-col">
          <span class="layout-col-label">With disabled item</span>
          <ui-nav size="sm">
            <ui-nav-item value="dashboard">Dashboard</ui-nav-item>
            <ui-nav-item value="settings">Settings</ui-nav-item>
            <ui-nav-item value="admin" disabled>Admin (restricted)</ui-nav-item>
            <ui-nav-item value="logout">Log Out</ui-nav-item>
          </ui-nav>
        </div>
      </div>
      <pre class="layout-code"><code>&lt;ui-nav&gt;
  &lt;ui-nav-item value="home"&gt;Home&lt;/ui-nav-item&gt;
  &lt;ui-nav-item value="about"&gt;About&lt;/ui-nav-item&gt;
  &lt;ui-nav-item value="blog"&gt;Blog&lt;/ui-nav-item&gt;
  &lt;ui-nav-item value="contact" disabled&gt;Contact&lt;/ui-nav-item&gt;
&lt;/ui-nav&gt;</code><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── Grouped with Icons ── -->

    <h2>Grouped with Icons</h2>
    <div class="layout-section">
      <div class="layout-grid">
        <div class="layout-col">
          <span class="layout-col-label">Sidebar nav pattern</span>
          <ui-nav id="grouped-nav" size="sm">
            <ui-nav-group>
              <ui-nav-group-header><ui-icon name="house"></ui-icon> Getting Started</ui-nav-group-header>
              <ui-nav-item value="install">Installation</ui-nav-item>
              <ui-nav-item value="structure">Project Structure</ui-nav-item>
            </ui-nav-group>
            <ui-nav-group>
              <ui-nav-group-header><ui-icon name="rocket-launch"></ui-icon> Build Your Application</ui-nav-group-header>
              <ui-nav-item value="routing">Routing</ui-nav-item>
              <ui-nav-item value="data">Data Fetching</ui-nav-item>
              <ui-nav-item value="caching">Caching</ui-nav-item>
              <ui-nav-item value="styling">Styling</ui-nav-item>
              <ui-nav-item value="optimizing">Optimizing</ui-nav-item>
            </ui-nav-group>
            <ui-nav-group>
              <ui-nav-group-header><ui-icon name="book-open"></ui-icon> Reference</ui-nav-group-header>
              <ui-nav-item value="api">API Reference</ui-nav-item>
              <ui-nav-item value="config">Configuration</ui-nav-item>
              <ui-nav-item value="examples">Examples</ui-nav-item>
            </ui-nav-group>
          </ui-nav>
          <div>Selected: <span class="value-display" id="grouped-value">none</span></div>
        </div>

        <div class="layout-col">
          <span class="layout-col-label">Without icons</span>
          <ui-nav size="sm">
            <ui-nav-group>
              <ui-nav-group-header>Fruits</ui-nav-group-header>
              <ui-nav-item value="apple">Apple</ui-nav-item>
              <ui-nav-item value="banana">Banana</ui-nav-item>
              <ui-nav-item value="cherry">Cherry</ui-nav-item>
            </ui-nav-group>
            <ui-nav-group>
              <ui-nav-group-header>Vegetables</ui-nav-group-header>
              <ui-nav-item value="carrot">Carrot</ui-nav-item>
              <ui-nav-item value="broccoli">Broccoli</ui-nav-item>
              <ui-nav-item value="spinach">Spinach</ui-nav-item>
            </ui-nav-group>
          </ui-nav>
        </div>
      </div>
      <pre class="layout-code"><code>&lt;ui-nav size="sm"&gt;
  &lt;ui-nav-group&gt;
    &lt;ui-nav-group-header&gt;
      &lt;ui-icon name="house"&gt;&lt;/ui-icon&gt; Getting Started
    &lt;/ui-nav-group-header&gt;
    &lt;ui-nav-item value="install"&gt;Installation&lt;/ui-nav-item&gt;
    &lt;ui-nav-item value="structure"&gt;Project Structure&lt;/ui-nav-item&gt;
  &lt;/ui-nav-group&gt;
&lt;/ui-nav&gt;</code><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── Collapsible Groups ── -->

    <h2>Collapsible Groups</h2>
    <div class="layout-section">
      <div class="layout-grid">
        <div class="layout-col">
          <span class="layout-col-label">Default open (all groups)</span>
          <ui-nav size="sm">
            <ui-nav-group>
              <ui-nav-group-header><ui-icon name="house"></ui-icon> Overview</ui-nav-group-header>
              <ui-nav-item value="intro">Introduction</ui-nav-item>
              <ui-nav-item value="quickstart">Quick Start</ui-nav-item>
            </ui-nav-group>
            <ui-nav-group>
              <ui-nav-group-header><ui-icon name="book-open"></ui-icon> Guides</ui-nav-group-header>
              <ui-nav-item value="auth">Authentication</ui-nav-item>
              <ui-nav-item value="deploy">Deployment</ui-nav-item>
              <ui-nav-item value="testing">Testing</ui-nav-item>
            </ui-nav-group>
          </ui-nav>
        </div>

        <div class="layout-col">
          <span class="layout-col-label">Without icons (text-only headers)</span>
          <ui-nav size="sm">
            <ui-nav-group>
              <ui-nav-group-header>Section A</ui-nav-group-header>
              <ui-nav-item value="a1">Item A1</ui-nav-item>
              <ui-nav-item value="a2">Item A2</ui-nav-item>
            </ui-nav-group>
            <ui-nav-group>
              <ui-nav-group-header>Section B</ui-nav-group-header>
              <ui-nav-item value="b1">Item B1</ui-nav-item>
              <ui-nav-item value="b2">Item B2</ui-nav-item>
              <ui-nav-item value="b3">Item B3</ui-nav-item>
            </ui-nav-group>
          </ui-nav>
        </div>
      </div>
    </div>

    <!-- ── Sizes ── -->

    <h2>Sizes</h2>
    <div class="layout-section">
      <div class="layout-grid">
        <div class="layout-col">
          <span class="layout-col-label">xs</span>
          <ui-nav size="xs">
            <ui-nav-item value="a">Item A</ui-nav-item>
            <ui-nav-item value="b">Item B</ui-nav-item>
            <ui-nav-item value="c">Item C</ui-nav-item>
          </ui-nav>
        </div>
        <div class="layout-col">
          <span class="layout-col-label">sm</span>
          <ui-nav size="sm">
            <ui-nav-item value="a">Item A</ui-nav-item>
            <ui-nav-item value="b">Item B</ui-nav-item>
            <ui-nav-item value="c">Item C</ui-nav-item>
          </ui-nav>
        </div>
        <div class="layout-col">
          <span class="layout-col-label">md</span>
          <ui-nav size="md">
            <ui-nav-item value="a">Item A</ui-nav-item>
            <ui-nav-item value="b">Item B</ui-nav-item>
            <ui-nav-item value="c">Item C</ui-nav-item>
          </ui-nav>
        </div>
        <div class="layout-col">
          <span class="layout-col-label">lg</span>
          <ui-nav size="lg">
            <ui-nav-item value="a">Item A</ui-nav-item>
            <ui-nav-item value="b">Item B</ui-nav-item>
            <ui-nav-item value="c">Item C</ui-nav-item>
          </ui-nav>
        </div>
      </div>
      <pre class="layout-code"><code>&lt;ui-nav size="sm"&gt;...&lt;/ui-nav&gt;
&lt;ui-nav size="md"&gt;...&lt;/ui-nav&gt;
&lt;ui-nav size="lg"&gt;...&lt;/ui-nav&gt;</code><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── Events ── -->

    <h2>Events</h2>
    <div class="layout-section" size="sm">
      <ui-nav id="event-nav" style="max-width: 220px;">
        <ui-nav-item value="home">Home</ui-nav-item>
        <ui-nav-item value="docs">Documentation</ui-nav-item>
        <ui-nav-item value="api">API Reference</ui-nav-item>
        <ui-nav-item value="changelog">Changelog</ui-nav-item>
      </ui-nav>
      <div class="log" id="event-log"></div>
      <pre class="layout-code"><code set:html={codeExamples.events} /><ui-button class="copy-btn" size="sm" variant="ghost" aria-label="Copy"><ui-icon name="copy"></ui-icon></ui-button></pre>
    </div>

    <!-- ── Debug States (force-*) ── -->

    <h2>Debug States (<code>force-*</code>)</h2>
    <div class="layout-section" size="sm">
      <p style="font-size: 0.75rem; color: var(--neutral-ink-muted); margin: 0 0 1rem;">
        Attribute-driven pseudo-state overrides for DevTools debugging and visual testing. Applied to individual <code>ui-nav-item</code> elements.
      </p>
      <ui-nav style="max-width: 220px;">
        <ui-nav-item value="hover" force-hover>Force hover</ui-nav-item>
        <ui-nav-item value="active" force-active>Force active</ui-nav-item>
        <ui-nav-item value="focus" force-focus-visible>Force focus-visible</ui-nav-item>
        <ui-nav-item value="normal">Normal</ui-nav-item>
      </ui-nav>
    </div>
  </main>

  <script>
import '../../scripts/copy-buttons';
import { logPrepend } from '../../scripts/event-log';
// Basic nav value tracking
      const basicNav = document.getElementById('basic-nav');
      const basicValue = document.getElementById('basic-value');
      basicNav.addEventListener('ui-change', (e) => {
        basicValue.textContent = e.detail.value;
      });

      // Grouped nav value tracking
      const groupedNav = document.getElementById('grouped-nav');
      const groupedValue = document.getElementById('grouped-value');
      groupedNav.addEventListener('ui-change', (e) => {
        groupedValue.textContent = e.detail.value;
      });

      // Event logging
      const eventNav = document.getElementById('event-nav');
      const eventLog = document.getElementById('event-log');
      let eventCount = 0;

      eventNav.addEventListener('ui-change', (e) => {
        eventCount++;
        logPrepend(eventLog, `#${eventCount} ui-change — value: "${e.detail.value}"`);
      });
  </script>
  <style is:global>
    .value-display {
      font-family: ui-monospace, monospace;
      font-size: 0.75rem;
      color: var(--accent-ink);
      background: var(--accent-panel);
      border-radius: 0.25rem;
      padding: 0.25rem 0.5rem;
      display: inline-block;
    }

    /* ── Code Blocks ── */
</style>

</SidebarLayout>

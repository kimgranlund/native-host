---
import SidebarLayout from '../layouts/SidebarLayout.astro';
---
<SidebarLayout title="Icons">
  <main>
<h1>&lt;ui-icon&gt;</h1>
    <p style="color: var(--neutral-ink-muted); font-size: 0.875rem; margin-bottom: 1.5rem;">
      Phosphor icon element with registry, late-registration, and accessibility support.
    </p>

    <!-- ── Basic Icons ── -->

    <h2>Basic Icons</h2>
    <div class="layout-section">
      <div class="icon-row">
        <div class="icon-card">
          <ui-icon name="house"></ui-icon>
          <span class="icon-card-label">house</span>
        </div>
        <div class="icon-card">
          <ui-icon name="gear"></ui-icon>
          <span class="icon-card-label">gear</span>
        </div>
        <div class="icon-card">
          <ui-icon name="bell"></ui-icon>
          <span class="icon-card-label">bell</span>
        </div>
        <div class="icon-card">
          <ui-icon name="magnifying-glass"></ui-icon>
          <span class="icon-card-label">magnifying-glass</span>
        </div>
        <div class="icon-card">
          <ui-icon name="heart"></ui-icon>
          <span class="icon-card-label">heart</span>
        </div>
        <div class="icon-card">
          <ui-icon name="star"></ui-icon>
          <span class="icon-card-label">star</span>
        </div>
        <div class="icon-card">
          <ui-icon name="check"></ui-icon>
          <span class="icon-card-label">check</span>
        </div>
        <div class="icon-card">
          <ui-icon name="x"></ui-icon>
          <span class="icon-card-label">x</span>
        </div>
        <div class="icon-card">
          <ui-icon name="trash"></ui-icon>
          <span class="icon-card-label">trash</span>
        </div>
        <div class="icon-card">
          <ui-icon name="pencil-simple"></ui-icon>
          <span class="icon-card-label">pencil-simple</span>
        </div>
      </div>
    </div>

    <!-- ── Sizes ── -->

    <h2>Sizes</h2>
    <div class="layout-section">
      <div class="layout-grid">
        <div class="layout-col">
          <span class="layout-col-label">xs (0.75rem)</span>
          <ui-icon name="house" size="xs"></ui-icon>
        </div>
        <div class="layout-col">
          <span class="layout-col-label">sm (0.875rem)</span>
          <ui-icon name="house" size="sm"></ui-icon>
        </div>
        <div class="layout-col">
          <span class="layout-col-label">md (1rem, default)</span>
          <ui-icon name="house" size="md"></ui-icon>
        </div>
        <div class="layout-col">
          <span class="layout-col-label">lg (1.125rem)</span>
          <ui-icon name="house" size="lg"></ui-icon>
        </div>
        <div class="layout-col">
          <span class="layout-col-label">xl (1.25rem)</span>
          <ui-icon name="house" size="xl"></ui-icon>
        </div>
      </div>
    </div>

    <!-- ── Color Inheritance ── -->

    <h2>Color Inheritance</h2>
    <div class="layout-section">
      <div class="icon-row">
        <span style="color: var(--accent-ink);">
          <ui-icon name="heart"></ui-icon> Accent
        </span>
        <span style="color: var(--success-ink);">
          <ui-icon name="check-circle"></ui-icon> Success
        </span>
        <span style="color: var(--warning-ink);">
          <ui-icon name="warning"></ui-icon> Warning
        </span>
        <span style="color: var(--danger-ink);">
          <ui-icon name="x-circle"></ui-icon> Danger
        </span>
        <span style="color: var(--info-ink);">
          <ui-icon name="info"></ui-icon> Info
        </span>
      </div>
    </div>

    <!-- ── Accessibility ── -->

    <h2>Accessibility</h2>
    <div class="layout-section">
      <h3>Decorative (default — aria-hidden="true")</h3>
      <div class="icon-row">
        <ui-icon name="house"></ui-icon>
        <span style="font-size: 0.75rem; color: var(--neutral-ink-muted); font-family: ui-monospace, monospace;">
          → aria-hidden="true", no role
        </span>
      </div>

      <h3>Meaningful (aria-label present)</h3>
      <div class="icon-row">
        <ui-icon name="check-circle" aria-label="Approved"></ui-icon>
        <span style="font-size: 0.75rem; color: var(--neutral-ink-muted); font-family: ui-monospace, monospace;">
          → role="img", aria-label="Approved"
        </span>
      </div>
    </div>

    <!-- ── Inside Buttons ── -->

    <h2>Inside Buttons</h2>
    <div class="layout-section" intent="accent" size="sm">
      <div class="icon-row">
        <button variant="primary">
          <ui-icon name="plus"></ui-icon>
          <span slot="label">Add Item</span>
        </button>
        <button variant="secondary">
          <ui-icon name="pencil-simple"></ui-icon>
          <span slot="label">Edit</span>
        </button>
        <button variant="outline">
          <ui-icon name="trash"></ui-icon>
          <span slot="label">Delete</span>
        </button>
        <button variant="ghost" aria-label="Close">
          <ui-icon name="x"></ui-icon>
        </button>
      </div>
    </div>

    <!-- ── Dynamic Name Change ── -->

    <h2>Dynamic Name Change</h2>
    <div class="layout-section">
      <div class="layout-grid">
        <div class="layout-col">
          <ui-icon id="dynamic-icon" name="house" size="xl"></ui-icon>
          <select id="icon-picker" style="font-size: 0.75rem; padding: 0.25rem;">
            <option value="house">house</option>
            <option value="gear">gear</option>
            <option value="bell">bell</option>
            <option value="heart">heart</option>
            <option value="star">star</option>
            <option value="magnifying-glass">magnifying-glass</option>
            <option value="check">check</option>
            <option value="x">x</option>
          </select>
        </div>
      </div>
    </div>

    <!-- ── Late Registration ── -->

    <h2>Late Registration</h2>
    <div class="layout-section">
      <p style="font-size: 0.75rem; color: var(--neutral-ink-muted); margin-bottom: 0.5rem;">
        The icon below has name="late-demo" but the icon hasn't been registered yet.
        Click the button to register it dynamically.
      </p>
      <div class="icon-row" style="margin-bottom: 0.5rem;">
        <ui-icon id="late-icon" name="late-demo" size="xl"></ui-icon>
        <button id="register-btn" variant="secondary" size="sm">Register "late-demo" icon</button>
      </div>
      <div class="log" id="late-log"></div>
    </div>

    <!-- ── Navigation Icons ── -->

    <h2>Navigation Icons</h2>
    <div class="layout-section">
      <div class="icon-row">
        <div class="icon-card">
          <ui-icon name="caret-up"></ui-icon>
          <span class="icon-card-label">caret-up</span>
        </div>
        <div class="icon-card">
          <ui-icon name="caret-down"></ui-icon>
          <span class="icon-card-label">caret-down</span>
        </div>
        <div class="icon-card">
          <ui-icon name="caret-left"></ui-icon>
          <span class="icon-card-label">caret-left</span>
        </div>
        <div class="icon-card">
          <ui-icon name="caret-right"></ui-icon>
          <span class="icon-card-label">caret-right</span>
        </div>
        <div class="icon-card">
          <ui-icon name="arrow-up"></ui-icon>
          <span class="icon-card-label">arrow-up</span>
        </div>
        <div class="icon-card">
          <ui-icon name="arrow-down"></ui-icon>
          <span class="icon-card-label">arrow-down</span>
        </div>
        <div class="icon-card">
          <ui-icon name="arrow-left"></ui-icon>
          <span class="icon-card-label">arrow-left</span>
        </div>
        <div class="icon-card">
          <ui-icon name="arrow-right"></ui-icon>
          <span class="icon-card-label">arrow-right</span>
        </div>
      </div>
    </div>
  </main>

  <script>
import { logPrepend } from '../scripts/event-log';
// Register specific icons for the demo

      // Dynamic name change
      const dynamicIcon = document.getElementById('dynamic-icon');
      const iconPicker = document.getElementById('icon-picker');
      iconPicker.addEventListener('change', () => {
        dynamicIcon.setAttribute('name', iconPicker.value);
      });

      // Late registration demo
      const registerBtn = document.getElementById('register-btn');
      const lateLog = document.getElementById('late-log');

      function log(msg) {
        logPrepend(lateLog, msg);
      }

      log('ui-icon[name="late-demo"] created — icon not yet registered, renders empty.');

      registerBtn.addEventListener('click', () => {
        registerIcon('late-demo', '<svg viewBox="0 0 256 256" fill="currentColor"><path d="M229.66,77.66l-128,128a8,8,0,0,1-11.32,0l-56-56a8,8,0,0,1,11.32-11.32L96,188.69,218.34,66.34a8,8,0,0,1,11.32,11.32Z"/></svg>');
        log('registerIcon("late-demo", ...) called — icon should now appear!');
        registerBtn.disabled = true;
      });
  </script>
  <style is:global>
    .icon-row {
      display: flex;
      gap: 0.75rem;
      align-items: center;
      flex-wrap: wrap;
    }

    .icon-card {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.25rem;
      padding: 0.75rem;
      background: var(--neutral-panel);
      border: 1px solid var(--neutral-border-muted);
      border-radius: 0.375rem;
      min-width: 5rem;
    }

    .icon-card-label {
      font-size: 0.625rem;
      color: var(--neutral-ink-muted);
      font-family: ui-monospace, monospace;
    }
</style>

</SidebarLayout>
